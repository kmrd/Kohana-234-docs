<html xmlns="http://www.w3.org/1999/xhtml" xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en" dir="ltr" xml:lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=utf-8"><title>
    libraries:captcha    [Kohana User Guide]
</title><meta name="generator" content="DokuWiki Release 2008-05-05"><meta name="robots" content="index,follow"><meta name="date" content="2008-08-21T08:13:51-0500"><meta name="keywords" content="libraries,captcha"><link rel="search" type="application/opensearchdescription+xml" href="..\lib\exe\opensearch.html" title="Kohana User Guide"><link rel="start" href="/"><link rel="contents" href="captcha-1.html?do=index" title="Index"><link rel="alternate" type="application/rss+xml" title="Recent Changes" href="..\feed.html"><link rel="alternate" type="application/rss+xml" title="Current Namespace" href="..\feed-4.html?mode=list&amp;ns=libraries"><link rel="alternate" type="text/html" title="Plain HTML" href="..\_export\xhtml\libraries\captcha.html"><link rel="alternate" type="text/plain" title="Wiki Markup" href="..\_export\raw\libraries\captcha.html"><link rel="stylesheet" media="all" type="text/css" href="..\_css\all.css"><link rel="stylesheet" media="screen" type="text/css" href="..\_css\kohana.css"><link rel="stylesheet" media="print" type="text/css" href="..\_css\print.css"><script type="text/javascript" charset="utf-8" src="..\_js\script.js"></script><link rel="shortcut icon" href="..\lib\tpl\kohana\images\favicon.html"><link rel="stylesheet" type="text/css" href="..\_css\my.css"></head><body>
<!-- Start Header -->
<div id="header">

<!-- Start Logo -->
<a id="logo" href="..\contents.html"><img src="..\_img\kohana.png" alt="Kohana"></a>
<!-- End Logo -->

</div>
<!-- End Header -->

<div class="menu clearfix">
<ul><li class="top active"><a href="..\contents.html">Contents</a></li>


<li class="top"><a href="..\contents.html">General<!--[if IE 7]><!--></a><!--<![endif]-->
<!--[if lte IE 6]><table><tr><td><![endif]-->
	<ul><li><a href="..\general\configuration.html" title="Configuration">Configuration</a></li>
				<li><a href="..\general\controllers.html" title="Controllers">Controllers</a></li>
				<li><a href="..\general\errorhandling.html" title="Error Handling">Error Handling</a></li>
				<li><a href="..\general\events.html" title="Events">Events</a></li>
				<li><a href="..\general\filesystem.html" title="Filesystem">Filesystem</a></li>
				<li><a href="..\general\helpers.html" title="Helpers">Helpers</a></li>
				<li><a href="..\general\hooks.html" title="Hooks">Hooks</a></li>
				<li><a href="..\general\i18n.html" title="Internationalization">Internationalization</a></li>
				<li><a href="..\general\libraries.html" title="Libraries">Libraries</a></li>
				<li><a href="..\general\loading.html" title="Loading">Loading</a></li>
				<li><a href="..\general\logging.html" title="Logging">Logging</a></li>
				<li><a href="..\general\models.html" title="Models">Models</a></li>
				<li><a href="..\general\modules.html" title="Modules">Modules</a></li>
				<li><a href="..\general\routing.html" title="Routing">Routing</a></li>
				<li><a href="..\general\urls.html" title="URLs">URLs</a></li>
				<li><a href="..\general\views.html" title="Views">Views</a></li>
			</ul><!--[if lte IE 6]></td></tr></table></a><![endif]--></li>


<li class="top"><a href="..\contents.html">Core<!--[if IE 7]><!--></a><!--<![endif]-->
<!--[if lte IE 6]><table><tr><td><![endif]-->
	<ul><li><a href="..\core\benchmark.html" title="Benchmark">Benchmark</a></li>
				<li><a href="..\core\config.html" title="Config">Config</a></li>
				<li><a href="..\core\event.html" title="Event">Event</a></li>
				<li><a href="..\core\kohana.html" title="Kohana">Kohana</a></li>
				<li><a href="..\core\log.html" title="Log">Log</a></li>
				<li><a href="..\core\utf8.html" title="Unicode">Unicode</a></li>
				<li><a href="..\core\view.html" title="View">View</a></li>
			</ul><!--[if lte IE 6]></td></tr></table></a><![endif]--></li>


<li class="top"><a href="..\contents.html">Libraries<!--[if IE 7]><!--></a><!--<![endif]-->
<!--[if lte IE 6]><table><tr><td><![endif]-->
	<ul><li><a href="cache.html" title="Cache">Cache</a></li>
				<li><a href="calendar.html" title="Calendar">Calendar</a></li>
				<li><a href="captcha.html" title="Captcha">Captcha</a></li>
				<li><a href="database.html" title="Database">Database</a></li>
				<li><a href="encrypt.html" title="Encrypt">Encrypt</a></li>
				<li><a href="image.html" title="Image">Image</a></li>
				<li><a href="input.html" title="Input">Input</a></li>
				<li><a href="orm.html" title="ORM">ORM</a></li>
				<li><a href="pagination.html" title="Pagination">Pagination</a></li>
				<li><a href="profiler.html" title="Profiler">Profiler</a></li>
				<li><a href="session.html" title="Session">Session</a></li>
				<li><a href="uri.html" title="URI">URI</a></li>
				<li><a href="validation.html" title="Validation">Validation</a></li>
			</ul><!--[if lte IE 6]></td></tr></table></a><![endif]--></li>


<li class="top"><a href="..\contents.html">Helpers<!--[if IE 7]><!--></a><!--<![endif]-->
<!--[if lte IE 6]><table><tr><td><![endif]-->
	<ul><li><a href="..\helpers\arr.html" title="Array">Array</a></li>
				<li><a href="..\helpers\cookie.html" title="Cookie">Cookie</a></li>
				<li><a href="..\helpers\date.html" title="Date">Date</a></li>
				<li><a href="..\helpers\download.html" title="Download">Download</a></li>
				<li><a href="..\helpers\email.html" title="Email">Email</a></li>
				<li><a href="..\helpers\expires.html" title="Expires">Expires</a></li>
				<li><a href="..\helpers\feed.html" title="Feed">Feed</a></li>
				<li><a href="..\helpers\file.html" title="File">File</a></li>
				<li><a href="..\helpers\form.html" title="Form">Form</a></li>
				<li><a href="..\helpers\format.html" title="Format">Format</a></li>
				<li><a href="..\helpers\html.html" title="HTML">HTML</a></li>
				<li><a href="..\helpers\inflector.html" title="Inflector">Inflector</a></li>
				<li><a href="..\helpers\num.html" title="Num">Num</a></li>
				<li><a href="..\helpers\remote.html" title="Remote">Remote</a></li>
				<li><a href="..\helpers\request.html" title="Request">Request</a></li>
				<li><a href="..\helpers\security.html" title="Security">Security</a></li>
				<li><a href="..\helpers\text.html" title="Text">Text</a></li>
				<li><a href="..\helpers\upload.html" title="Upload">Upload</a></li>
				<li><a href="..\helpers\url.html" title="URL">URL</a></li>
				<li><a href="..\helpers\valid.html" title="Valid">Valid</a></li>
			</ul><!--[if lte IE 6]></td></tr></table></a><![endif]--></li>


</ul></div>


<!-- Start Body -->
<div id="body" class="dokuwiki clearfix">

<!-- wikipage start -->
<table class="inline"><tr class="row0"><th class="col0">Status</th><td class="col1">stub</td>
	</tr><tr class="row1"><th class="col0">Todo</th><td class="col1">Write me</td>
	</tr></table><h1><a name="captcha_library" id="captcha_library">Captcha Library</a></h1>
<div class="level1">

<p>

Captchas are used to protect your site by showing something that a computer can't recognize but a human can. They are usually placed on your registration page but they can be placed anywhere you want to make reasonably sure you are dealing with a person and not a bot.
</p>

<p>
Kohana's Captcha library can currently generates basic, alpha, word, math, riddle captchas. Captcha configuration is defined in groups which allows you to easily switch between different Captcha settings for different forms on your website.
</p>

</div>

<h2><a name="configuration" id="configuration">Configuration</a></h2>
<div class="level2">

<p>

Configuration is done in the <code>application/config/captcha.php</code> file, if it's not there take the one from <code>system/config</code> and copy it to the application folder (see <a href="http://en.wikipedia.org/wiki/Image:Kohana-modules.png" class="urlextern" title="http://en.wikipedia.org/wiki/Image:Kohana-modules.png" rel="nofollow">cascading filesystem</a>):
</p>
<pre class="code php"><span class="re1">$config</span><span class="br0">[</span><span class="st0">'default'</span><span class="br0">]</span> <span class="sy0">=</span> <a href="http://www.php.net/array"><span class="kw3">array</span></a>
<span class="br0">(</span>
    <span class="st0">'style'</span>      <span class="sy0">=&gt;</span> <span class="st0">'basic'</span><span class="sy0">,</span>
    <span class="st0">'width'</span>      <span class="sy0">=&gt;</span> <span class="nu0">150</span><span class="sy0">,</span>
    <span class="st0">'height'</span>     <span class="sy0">=&gt;</span> <span class="nu0">50</span><span class="sy0">,</span>
    <span class="st0">'complexity'</span> <span class="sy0">=&gt;</span> <span class="nu0">4</span><span class="sy0">,</span>
    <span class="st0">'background'</span> <span class="sy0">=&gt;</span> <span class="st0">''</span><span class="sy0">,</span>
    <span class="st0">'fontpath'</span>   <span class="sy0">=&gt;</span> SYSPATH<span class="sy0">.</span><span class="st0">'fonts/'</span><span class="sy0">,</span>
    <span class="st0">'fonts'</span>      <span class="sy0">=&gt;</span> <a href="http://www.php.net/array"><span class="kw3">array</span></a><span class="br0">(</span><span class="st0">'DejaVuSerif.ttf'</span><span class="br0">)</span><span class="sy0">,</span>
    <span class="st0">'promote'</span>    <span class="sy0">=&gt;</span> <span class="kw2">FALSE</span><span class="sy0">,</span>
<span class="br0">)</span><span class="sy0">;</span></pre>
<p>
<em class="u">Note</em>: all groups inherit and overwrite the default group.
</p>

</div>

<h4><a name="styles" id="styles">Styles</a></h4>
<div class="level4">

<p>

<code>style</code> defines the captcha type, e.g. basic, alpha, word, math, riddle. There are 5 different drivers: 

</p>
<ul><li class="level1"><div class="li"> <code>basic</code> - draws a picture with a random text (only distinct alpha numeric characters that can't be mistaken for others)</div>
</li>
<li class="level1"><div class="li"> <code>alpha</code> - draws a picture with a random text (only distinct alpha characters)</div>
</li>
<li class="level1"><div class="li"> <code>word</code>  - ask for a random word loaded  from the current language (i18n/xx_XX/captcha.php)</div>
</li>
<li class="level1"><div class="li"> <code>math</code>  - generates a mathematic challenge such as <code>2 + 8 = ?</code></div>
</li>
<li class="level1"><div class="li"> <code>riddle</code> - asks for a riddle such as <code>Fire is... (hot or cold)</code> (loaded from i18n/xx_XX/captcha.php)</div>
</li>
</ul></div>

<h4><a name="picture_height_and_width" id="picture_height_and_width">Picture height and width</a></h4>
<div class="level4">

<p>

For basic and alpha styles drawing a picture, <code>height</code> and <code>width</code> define the size of the picture.
</p>

</div>

<h4><a name="complexity" id="complexity">Complexity</a></h4>
<div class="level4">

<p>

It defines the difficulty level of the generated captcha. Usage depends on chosen style:

</p>
<ul><li class="level1"><div class="li"> <code>basic</code> - [1:10] complexity setting is used as character count</div>
</li>
<li class="level1"><div class="li"> <code>alpha</code> - [1:10] complexity setting is used as character count</div>
</li>
<li class="level1"><div class="li"> <code>word</code>  - [2:9] complexity setting is used as word length</div>
</li>
<li class="level1"><div class="li"> <code>math</code>  - [0;4;8], higher the complexity is, harder is the challenge</div>
</li>
</ul></div>

<h4><a name="background" id="background">Background</a></h4>
<div class="level4">

<p>

<code>background</code> is the path to background image file used for basic and alpha Captcha
</p>

</div>

<h4><a name="fonts" id="fonts">Fonts</a></h4>
<div class="level4">

<p>

<code>fontpath</code> is the font file used for basic and alpha Captcha. <code>fonts</code> is an array of font files. Several fonts means that characters have randomized fonts choosen in the array.
</p>

</div>

<h4><a name="promote" id="promote">Promote</a></h4>
<div class="level4">

<p>

<code>promote</code> is a valid response count threshold to promote user (FALSE to disable)
</p>

</div>

<!-- wikipage stop -->

</div>
<!-- End Body -->


<div id="wikibar" class="clearfix">
	<div class="meta">
		<div class="user">
					</div>
		<div class="doc">
			libraries/captcha.txt · Last modified: 2008/08/21 08:13 by spirit			 
		</div>
	</div>

	</div>

<div id="footer"><strong>©2007-2008 Kohana Team. All rights reserved.</strong></div>


<div class="no"><img src="/lib/exe/indexer.php?id=libraries%3Acaptcha&amp;1229411567" width="1" height="1" alt=""></div>
</body></html>
