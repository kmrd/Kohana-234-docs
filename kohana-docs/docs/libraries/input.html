<html xmlns="http://www.w3.org/1999/xhtml" xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en" dir="ltr" xml:lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=utf-8"><title>
    libraries:input    [Kohana User Guide]
</title><meta name="generator" content="DokuWiki Release 2008-05-05"><meta name="robots" content="index,follow"><meta name="date" content="2008-08-11T05:59:15-0500"><meta name="keywords" content="libraries,input"><link rel="search" type="application/opensearchdescription+xml" href="..\lib\exe\opensearch.html" title="Kohana User Guide"><link rel="start" href="/"><link rel="contents" href="input-1.html?do=index" title="Index"><link rel="alternate" type="application/rss+xml" title="Recent Changes" href="..\feed.html"><link rel="alternate" type="application/rss+xml" title="Current Namespace" href="..\feed-4.html?mode=list&amp;ns=libraries"><link rel="alternate" type="text/html" title="Plain HTML" href="..\_export\xhtml\libraries\input.html"><link rel="alternate" type="text/plain" title="Wiki Markup" href="..\_export\raw\libraries\input.html"><link rel="stylesheet" media="all" type="text/css" href="..\_css\all.css"><link rel="stylesheet" media="screen" type="text/css" href="..\_css\kohana.css"><link rel="stylesheet" media="print" type="text/css" href="..\_css\print.css"><script type="text/javascript" charset="utf-8" src="..\_js\script.js"></script><link rel="shortcut icon" href="..\lib\tpl\kohana\images\favicon.html"><link rel="stylesheet" type="text/css" href="..\_css\my.css"></head><body>
<!-- Start Header -->
<div id="header">

<!-- Start Logo -->
<a id="logo" href="..\contents.html"><img src="..\_img\kohana.png" alt="Kohana"></a>
<!-- End Logo -->

</div>
<!-- End Header -->

<div class="menu clearfix">
<ul><li class="top active"><a href="..\contents.html">Contents</a></li>


<li class="top"><a href="..\contents.html">General<!--[if IE 7]><!--></a><!--<![endif]-->
<!--[if lte IE 6]><table><tr><td><![endif]-->
	<ul><li><a href="..\general\configuration.html" title="Configuration">Configuration</a></li>
				<li><a href="..\general\controllers.html" title="Controllers">Controllers</a></li>
				<li><a href="..\general\errorhandling.html" title="Error Handling">Error Handling</a></li>
				<li><a href="..\general\events.html" title="Events">Events</a></li>
				<li><a href="..\general\filesystem.html" title="Filesystem">Filesystem</a></li>
				<li><a href="..\general\helpers.html" title="Helpers">Helpers</a></li>
				<li><a href="..\general\hooks.html" title="Hooks">Hooks</a></li>
				<li><a href="..\general\i18n.html" title="Internationalization">Internationalization</a></li>
				<li><a href="..\general\libraries.html" title="Libraries">Libraries</a></li>
				<li><a href="..\general\loading.html" title="Loading">Loading</a></li>
				<li><a href="..\general\logging.html" title="Logging">Logging</a></li>
				<li><a href="..\general\models.html" title="Models">Models</a></li>
				<li><a href="..\general\modules.html" title="Modules">Modules</a></li>
				<li><a href="..\general\routing.html" title="Routing">Routing</a></li>
				<li><a href="..\general\urls.html" title="URLs">URLs</a></li>
				<li><a href="..\general\views.html" title="Views">Views</a></li>
			</ul><!--[if lte IE 6]></td></tr></table></a><![endif]--></li>


<li class="top"><a href="..\contents.html">Core<!--[if IE 7]><!--></a><!--<![endif]-->
<!--[if lte IE 6]><table><tr><td><![endif]-->
	<ul><li><a href="..\core\benchmark.html" title="Benchmark">Benchmark</a></li>
				<li><a href="..\core\config.html" title="Config">Config</a></li>
				<li><a href="..\core\event.html" title="Event">Event</a></li>
				<li><a href="..\core\kohana.html" title="Kohana">Kohana</a></li>
				<li><a href="..\core\log.html" title="Log">Log</a></li>
				<li><a href="..\core\utf8.html" title="Unicode">Unicode</a></li>
				<li><a href="..\core\view.html" title="View">View</a></li>
			</ul><!--[if lte IE 6]></td></tr></table></a><![endif]--></li>


<li class="top"><a href="..\contents.html">Libraries<!--[if IE 7]><!--></a><!--<![endif]-->
<!--[if lte IE 6]><table><tr><td><![endif]-->
	<ul><li><a href="cache.html" title="Cache">Cache</a></li>
				<li><a href="calendar.html" title="Calendar">Calendar</a></li>
				<li><a href="captcha.html" title="Captcha">Captcha</a></li>
				<li><a href="database.html" title="Database">Database</a></li>
				<li><a href="encrypt.html" title="Encrypt">Encrypt</a></li>
				<li><a href="image.html" title="Image">Image</a></li>
				<li><a href="input.html" title="Input">Input</a></li>
				<li><a href="orm.html" title="ORM">ORM</a></li>
				<li><a href="pagination.html" title="Pagination">Pagination</a></li>
				<li><a href="profiler.html" title="Profiler">Profiler</a></li>
				<li><a href="session.html" title="Session">Session</a></li>
				<li><a href="uri.html" title="URI">URI</a></li>
				<li><a href="validation.html" title="Validation">Validation</a></li>
			</ul><!--[if lte IE 6]></td></tr></table></a><![endif]--></li>


<li class="top"><a href="..\contents.html">Helpers<!--[if IE 7]><!--></a><!--<![endif]-->
<!--[if lte IE 6]><table><tr><td><![endif]-->
	<ul><li><a href="..\helpers\arr.html" title="Array">Array</a></li>
				<li><a href="..\helpers\cookie.html" title="Cookie">Cookie</a></li>
				<li><a href="..\helpers\date.html" title="Date">Date</a></li>
				<li><a href="..\helpers\download.html" title="Download">Download</a></li>
				<li><a href="..\helpers\email.html" title="Email">Email</a></li>
				<li><a href="..\helpers\expires.html" title="Expires">Expires</a></li>
				<li><a href="..\helpers\feed.html" title="Feed">Feed</a></li>
				<li><a href="..\helpers\file.html" title="File">File</a></li>
				<li><a href="..\helpers\form.html" title="Form">Form</a></li>
				<li><a href="..\helpers\format.html" title="Format">Format</a></li>
				<li><a href="..\helpers\html.html" title="HTML">HTML</a></li>
				<li><a href="..\helpers\inflector.html" title="Inflector">Inflector</a></li>
				<li><a href="..\helpers\num.html" title="Num">Num</a></li>
				<li><a href="..\helpers\remote.html" title="Remote">Remote</a></li>
				<li><a href="..\helpers\request.html" title="Request">Request</a></li>
				<li><a href="..\helpers\security.html" title="Security">Security</a></li>
				<li><a href="..\helpers\text.html" title="Text">Text</a></li>
				<li><a href="..\helpers\upload.html" title="Upload">Upload</a></li>
				<li><a href="..\helpers\url.html" title="URL">URL</a></li>
				<li><a href="..\helpers\valid.html" title="Valid">Valid</a></li>
			</ul><!--[if lte IE 6]></td></tr></table></a><![endif]--></li>


</ul></div>


<!-- Start Body -->
<div id="body" class="dokuwiki clearfix">

<!-- wikipage start -->
<!-- TOC START -->
<!-- TOC END -->
<table class="inline"><tr class="row0"><th class="col0">Status</th><td class="col1">Draft</td>
	</tr><tr class="row1"><th class="col0">Todo</th><td class="col1">document xss_clean</td>
	</tr></table><h1><a name="input_library" id="input_library">Input Library</a></h1>
<div class="level1">

<p>

The input library is useful for two things:
- pre-process global input for security
- provide some useful functions for retrieving input data
</p>

<p>
<strong>Note</strong>:
</p>
<ul><li class="level1"><div class="li"> The <strong>$_REQUEST</strong> and <strong>$_GLOBAL</strong> variables are not available within Kohana. </div>
</li>
<li class="level1"><div class="li"> $_POST, $_GET, $_COOKIE and $_SERVER are all converted to utf-8.</div>
</li>
<li class="level1"><div class="li"> Global GET, POST and COOKIE data are sanitized when the Input library is loaded</div>
</li>
</ul></div>

<h2><a name="loading_the_library" id="loading_the_library">Loading the library</a></h2>
<div class="level2">

<p>

This library is automatically loaded by the controller so you don't need to load it yourself.
It is accessed by <code>$this→input</code> in the controller scope.
</p>

</div>

<h2><a name="methods" id="methods">Methods</a></h2>
<div class="level2">

</div>

<h3><a name="get" id="get">get()</a></h3>
<div class="level3">

<p>
allows you to retrieve GET variables. if global XSS filtering is on (config) then data returned by this function will be filtered.
</p>
<ul><li class="level1"><div class="li"> [string] variable to retrieve – default = empty array (returns all variables)</div>
</li>
</ul><pre class="code php"><span class="co1">//URL is http://www.example.com/index.php?articleId=123&amp;file=text.txt</span>
<span class="co1">//Note that print statements are for documentation purpose only</span>
 
<a href="http://www.php.net/print"><span class="kw3">print</span></a> Kohana<span class="sy0">::</span><span class="me2">debug</span><span class="br0">(</span><span class="re1">$this</span><span class="sy0">-&gt;</span><span class="me1">input</span><span class="sy0">-&gt;</span><span class="me1">get</span><span class="br0">(</span><span class="br0">)</span><span class="br0">)</span><span class="sy0">;</span>
<a href="http://www.php.net/print"><span class="kw3">print</span></a> Kohana<span class="sy0">::</span><span class="me2">debug</span><span class="br0">(</span><span class="re1">$this</span><span class="sy0">-&gt;</span><span class="me1">input</span><span class="sy0">-&gt;</span><span class="me1">get</span><span class="br0">(</span><span class="st0">'file'</span><span class="br0">)</span><span class="br0">)</span><span class="sy0">;</span></pre>
<p>

It will result in <acronym title="HyperText Markup Language">HTML</acronym> as:

</p>
<pre class="code html4strict">Array
(
    [articleId] =&gt; 123
    [file] =&gt; text.txt
)
 
text.txt</pre>
<p>
You can also pass a default value and manually XSS clean the request by passing parameters.
</p>
<pre class="code php"><span class="re1">$this</span><span class="sy0">-&gt;</span><span class="me1">input</span><span class="sy0">-&gt;</span><span class="me1">get</span><span class="br0">(</span><span class="st0">'file'</span><span class="sy0">,</span><span class="st0">'default_value'</span><span class="br0">)</span><span class="sy0">;</span> <span class="co1">//'default_value' is the default value if the key doesn't exist.</span>
<span class="re1">$this</span><span class="sy0">-&gt;</span><span class="me1">input</span><span class="sy0">-&gt;</span><span class="me1">get</span><span class="br0">(</span><span class="st0">'file'</span><span class="sy0">,</span><span class="kw2">null</span><span class="sy0">,</span><span class="kw2">true</span><span class="br0">)</span><span class="sy0">;</span> <span class="co1">//manually apply XSS clean</span></pre>
</div>

<h3><a name="post" id="post">post()</a></h3>
<div class="level3">

<p>
allows you to retrieve POST variables. if global XSS filtering is on (config) then data returned by this function will be filtered.
</p>
<ul><li class="level1"><div class="li"> [string] variable to retrieve – default = empty array (returns all variables)</div>
</li>
</ul><pre class="code php"><span class="co1">//POST variables are articleId=123 and file=text.txt</span>
<span class="co1">//Note that print statements are for documentation purpose only</span>
 
<a href="http://www.php.net/print"><span class="kw3">print</span></a> Kohana<span class="sy0">::</span><span class="me2">debug</span><span class="br0">(</span><span class="re1">$this</span><span class="sy0">-&gt;</span><span class="me1">input</span><span class="sy0">-&gt;</span><span class="me1">post</span><span class="br0">(</span><span class="br0">)</span><span class="br0">)</span><span class="sy0">;</span>
<a href="http://www.php.net/print"><span class="kw3">print</span></a> Kohana<span class="sy0">::</span><span class="me2">debug</span><span class="br0">(</span><span class="re1">$this</span><span class="sy0">-&gt;</span><span class="me1">input</span><span class="sy0">-&gt;</span><span class="me1">post</span><span class="br0">(</span><span class="st0">'file'</span><span class="br0">)</span><span class="br0">)</span><span class="sy0">;</span></pre>
<p>

It will result in <acronym title="HyperText Markup Language">HTML</acronym> as:

</p>
<pre class="code html4strict">Array
(
    [articleId] =&gt; 123
    [file] =&gt; text.txt
)
 
text.txt</pre>
<p>
You can also pass a default value and manually XSS clean the request by passing parameters.
</p>
<pre class="code php"><span class="re1">$this</span><span class="sy0">-&gt;</span><span class="me1">input</span><span class="sy0">-&gt;</span><span class="me1">post</span><span class="br0">(</span><span class="st0">'file'</span><span class="sy0">,</span><span class="st0">'default_value'</span><span class="br0">)</span><span class="sy0">;</span> <span class="co1">//'default_value' is the default value if the key doesn't exist.</span>
<span class="re1">$this</span><span class="sy0">-&gt;</span><span class="me1">input</span><span class="sy0">-&gt;</span><span class="me1">post</span><span class="br0">(</span><span class="st0">'file'</span><span class="sy0">,</span><span class="kw2">null</span><span class="sy0">,</span><span class="kw2">true</span><span class="br0">)</span><span class="sy0">;</span> <span class="co1">//manually apply XSS clean</span></pre>
</div>

<h3><a name="cookie" id="cookie">cookie()</a></h3>
<div class="level3">

<p>
allows you to retrieve COOKIE variables. if global XSS filtering is on (config) then data returned by this function will be filtered.
</p>
<ul><li class="level1"><div class="li"> [string] variable to retrieve – default = empty array (returns all variables)</div>
</li>
</ul><pre class="code php"><span class="co1">//COOKIE name is "username" and the contents of this cookie is "aart-jan".</span>
<span class="co1">//Note that print statements are for documentation purpose only</span>
 
<a href="http://www.php.net/print"><span class="kw3">print</span></a> Kohana<span class="sy0">::</span><span class="me2">debug</span><span class="br0">(</span><span class="re1">$this</span><span class="sy0">-&gt;</span><span class="me1">input</span><span class="sy0">-&gt;</span><span class="me1">cookie</span><span class="br0">(</span><span class="br0">)</span><span class="br0">)</span><span class="sy0">;</span>
<a href="http://www.php.net/print"><span class="kw3">print</span></a> Kohana<span class="sy0">::</span><span class="me2">debug</span><span class="br0">(</span><span class="re1">$this</span><span class="sy0">-&gt;</span><span class="me1">input</span><span class="sy0">-&gt;</span><span class="me1">cookie</span><span class="br0">(</span><span class="st0">'username'</span><span class="br0">)</span><span class="br0">)</span><span class="sy0">;</span></pre>
<p>

It will result in <acronym title="HyperText Markup Language">HTML</acronym> as:

</p>
<pre class="code html4strict">Array
(
    [username] =&gt; aart-jan
)
aart-jan</pre>
<p>
You can also pass a default value and manually XSS clean the request by passing parameters.
</p>
<pre class="code php"><span class="re1">$this</span><span class="sy0">-&gt;</span><span class="me1">input</span><span class="sy0">-&gt;</span><span class="me1">cookie</span><span class="br0">(</span><span class="st0">'username'</span><span class="sy0">,</span><span class="st0">'default_value'</span><span class="br0">)</span><span class="sy0">;</span> <span class="co1">//'default_value' is the default value if the key doesn't exist.</span>
<span class="re1">$this</span><span class="sy0">-&gt;</span><span class="me1">input</span><span class="sy0">-&gt;</span><span class="me1">cookie</span><span class="br0">(</span><span class="st0">'username'</span><span class="sy0">,</span><span class="kw2">null</span><span class="sy0">,</span><span class="kw2">true</span><span class="br0">)</span><span class="sy0">;</span> <span class="co1">//manually apply XSS clean</span></pre>
</div>

<h3><a name="server" id="server">server()</a></h3>
<div class="level3">

<p>
allows you to retrieve SERVER variables. if global XSS filtering is on (config) then data returned by this function will be filtered. An overview of these variables can be found in the <a href="http://nl2.php.net/manual/en/reserved.variables.server.php" class="urlextern" title="http://nl2.php.net/manual/en/reserved.variables.server.php" rel="nofollow">php documentation</a>
</p>
<ul><li class="level1"><div class="li"> [string] variable to retrieve – default = empty array (returns all variables)</div>
</li>
</ul><pre class="code php"><span class="co1">//Note that print statements are for documentation purpose only</span>
<a href="http://www.php.net/print"><span class="kw3">print</span></a> Kohana<span class="sy0">::</span><span class="me2">debug</span><span class="br0">(</span><span class="re1">$this</span><span class="sy0">-&gt;</span><span class="me1">input</span><span class="sy0">-&gt;</span><span class="me1">server</span><span class="br0">(</span><span class="st0">'HTTP_HOST'</span><span class="br0">)</span><span class="br0">)</span><span class="sy0">;</span> <span class="co1">//this example ran on a local server</span></pre>
<p>

It will result in <acronym title="HyperText Markup Language">HTML</acronym> as:

</p>
<pre class="code html4strict">localhost</pre>
<p>
You can also pass a default value and manually XSS clean the request by passing parameters.
</p>
<pre class="code php"><span class="re1">$this</span><span class="sy0">-&gt;</span><span class="me1">input</span><span class="sy0">-&gt;</span><span class="me1">server</span><span class="br0">(</span><span class="st0">'HTTP_HOST'</span><span class="sy0">,</span><span class="st0">'default_value'</span><span class="br0">)</span><span class="sy0">;</span> <span class="co1">//'default_value' is the default value if the key doesn't exist.</span>
<span class="re1">$this</span><span class="sy0">-&gt;</span><span class="me1">input</span><span class="sy0">-&gt;</span><span class="me1">server</span><span class="br0">(</span><span class="st0">'HTTP_HOST'</span><span class="sy0">,</span><span class="kw2">null</span><span class="sy0">,</span><span class="kw2">true</span><span class="br0">)</span><span class="sy0">;</span> <span class="co1">//manually apply XSS clean</span></pre>
</div>

<h3><a name="ip_address" id="ip_address">ip_address()</a></h3>
<div class="level3">

<p>
'ip_address' returns the IP-address of the user visiting using your webapplication. 
It returns '0.0.0.0' if there's no IP.

</p>
<pre class="code php"><a href="http://www.php.net/print"><span class="kw3">print</span></a> <span class="re1">$this</span><span class="sy0">-&gt;</span><span class="me1">input</span><span class="sy0">-&gt;</span><span class="me1">ip_address</span><span class="br0">(</span><span class="br0">)</span><span class="sy0">;</span> <span class="co1">//this example ran on a local server</span></pre>
<p>

It will result in <acronym title="HyperText Markup Language">HTML</acronym> as:

</p>
<pre class="code html4strict">127.0.0.1</pre>
</div>

<h3><a name="valid_ip" id="valid_ip">valid_ip()</a></h3>
<div class="level3">

<p>
'valid_ip' will check whether the specified IP is a valid IPV4 ip-address according to the RFC specifications.
</p>
<ul><li class="level1"><div class="li"> [string] IP address to be validated</div>
</li>
</ul><p>
This function is identical to the <a href="..\helpers\valid-1.html#ip" class="wikilink1" title="helpers:valid">IP address validation helper</a>.
</p>

</div>

<h3><a name="xss_clean" id="xss_clean">xss_clean()</a></h3>
<div class="level3">

<p>

allows you to clean a string to make sure it is safe.

</p>
<ul><li class="level1"><div class="li"> [string/array] The string or the array of strings to clean</div>
</li>
</ul><pre class="code php"><a href="http://www.php.net/echo"><span class="kw3">echo</span></a> <span class="re1">$this</span><span class="sy0">-&gt;</span><span class="me1">input</span><span class="sy0">-&gt;</span><span class="me1">xss_clean</span><span class="br0">(</span><span class="re1">$suspect_input</span><span class="br0">)</span><span class="sy0">;</span></pre>
</div>

<!-- wikipage stop -->

</div>
<!-- End Body -->


<div id="wikibar" class="clearfix">
	<div class="meta">
		<div class="user">
					</div>
		<div class="doc">
			libraries/input.txt · Last modified: 2008/08/11 05:59 by spirit			 
		</div>
	</div>

	</div>

<div id="footer"><strong>©2007-2008 Kohana Team. All rights reserved.</strong></div>


<div class="no"><img src="/lib/exe/indexer.php?id=libraries%3Ainput&amp;1229411576" width="1" height="1" alt=""></div>
</body></html>
