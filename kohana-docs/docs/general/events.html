<html xmlns="http://www.w3.org/1999/xhtml" xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en" dir="ltr" xml:lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=utf-8"><title>
    general:events    [Kohana User Guide]
</title><meta name="generator" content="DokuWiki Release 2008-05-05"><meta name="robots" content="index,follow"><meta name="date" content="2008-09-29T17:59:48-0500"><meta name="keywords" content="general,events"><link rel="search" type="application/opensearchdescription+xml" href="..\lib\exe\opensearch.html" title="Kohana User Guide"><link rel="start" href="/"><link rel="contents" href="events-1.html?do=index" title="Index"><link rel="alternate" type="application/rss+xml" title="Recent Changes" href="..\feed.html"><link rel="alternate" type="application/rss+xml" title="Current Namespace" href="..\feed-2.html?mode=list&amp;ns=general"><link rel="alternate" type="text/html" title="Plain HTML" href="..\_export\xhtml\general\events.html"><link rel="alternate" type="text/plain" title="Wiki Markup" href="..\_export\raw\general\events.html"><link rel="stylesheet" media="all" type="text/css" href="..\_css\all.css"><link rel="stylesheet" media="screen" type="text/css" href="..\_css\kohana.css"><link rel="stylesheet" media="print" type="text/css" href="..\_css\print.css"><script type="text/javascript" charset="utf-8" src="..\_js\script.js"></script><link rel="shortcut icon" href="..\lib\tpl\kohana\images\favicon.html"><link rel="stylesheet" type="text/css" href="..\_css\my.css"></head><body>
<!-- Start Header -->
<div id="header">

<!-- Start Logo -->
<a id="logo" href="..\contents.html"><img src="..\_img\kohana.png" alt="Kohana"></a>
<!-- End Logo -->

</div>
<!-- End Header -->

<div class="menu clearfix">
<ul><li class="top active"><a href="..\contents.html">Contents</a></li>


<li class="top"><a href="..\contents.html">General<!--[if IE 7]><!--></a><!--<![endif]-->
<!--[if lte IE 6]><table><tr><td><![endif]-->
	<ul><li><a href="configuration.html" title="Configuration">Configuration</a></li>
				<li><a href="controllers.html" title="Controllers">Controllers</a></li>
				<li><a href="errorhandling.html" title="Error Handling">Error Handling</a></li>
				<li><a href="events.html" title="Events">Events</a></li>
				<li><a href="filesystem.html" title="Filesystem">Filesystem</a></li>
				<li><a href="helpers.html" title="Helpers">Helpers</a></li>
				<li><a href="hooks.html" title="Hooks">Hooks</a></li>
				<li><a href="i18n.html" title="Internationalization">Internationalization</a></li>
				<li><a href="libraries.html" title="Libraries">Libraries</a></li>
				<li><a href="loading.html" title="Loading">Loading</a></li>
				<li><a href="logging.html" title="Logging">Logging</a></li>
				<li><a href="models.html" title="Models">Models</a></li>
				<li><a href="modules.html" title="Modules">Modules</a></li>
				<li><a href="routing.html" title="Routing">Routing</a></li>
				<li><a href="urls.html" title="URLs">URLs</a></li>
				<li><a href="views.html" title="Views">Views</a></li>
			</ul><!--[if lte IE 6]></td></tr></table></a><![endif]--></li>


<li class="top"><a href="..\contents.html">Core<!--[if IE 7]><!--></a><!--<![endif]-->
<!--[if lte IE 6]><table><tr><td><![endif]-->
	<ul><li><a href="..\core\benchmark.html" title="Benchmark">Benchmark</a></li>
				<li><a href="..\core\config.html" title="Config">Config</a></li>
				<li><a href="..\core\event.html" title="Event">Event</a></li>
				<li><a href="..\core\kohana.html" title="Kohana">Kohana</a></li>
				<li><a href="..\core\log.html" title="Log">Log</a></li>
				<li><a href="..\core\utf8.html" title="Unicode">Unicode</a></li>
				<li><a href="..\core\view.html" title="View">View</a></li>
			</ul><!--[if lte IE 6]></td></tr></table></a><![endif]--></li>


<li class="top"><a href="..\contents.html">Libraries<!--[if IE 7]><!--></a><!--<![endif]-->
<!--[if lte IE 6]><table><tr><td><![endif]-->
	<ul><li><a href="..\libraries\cache.html" title="Cache">Cache</a></li>
				<li><a href="..\libraries\calendar.html" title="Calendar">Calendar</a></li>
				<li><a href="..\libraries\captcha.html" title="Captcha">Captcha</a></li>
				<li><a href="..\libraries\database.html" title="Database">Database</a></li>
				<li><a href="..\libraries\encrypt.html" title="Encrypt">Encrypt</a></li>
				<li><a href="..\libraries\image.html" title="Image">Image</a></li>
				<li><a href="..\libraries\input.html" title="Input">Input</a></li>
				<li><a href="..\libraries\orm.html" title="ORM">ORM</a></li>
				<li><a href="..\libraries\pagination.html" title="Pagination">Pagination</a></li>
				<li><a href="..\libraries\profiler.html" title="Profiler">Profiler</a></li>
				<li><a href="..\libraries\session.html" title="Session">Session</a></li>
				<li><a href="..\libraries\uri.html" title="URI">URI</a></li>
				<li><a href="..\libraries\validation.html" title="Validation">Validation</a></li>
			</ul><!--[if lte IE 6]></td></tr></table></a><![endif]--></li>


<li class="top"><a href="..\contents.html">Helpers<!--[if IE 7]><!--></a><!--<![endif]-->
<!--[if lte IE 6]><table><tr><td><![endif]-->
	<ul><li><a href="..\helpers\arr.html" title="Array">Array</a></li>
				<li><a href="..\helpers\cookie.html" title="Cookie">Cookie</a></li>
				<li><a href="..\helpers\date.html" title="Date">Date</a></li>
				<li><a href="..\helpers\download.html" title="Download">Download</a></li>
				<li><a href="..\helpers\email.html" title="Email">Email</a></li>
				<li><a href="..\helpers\expires.html" title="Expires">Expires</a></li>
				<li><a href="..\helpers\feed.html" title="Feed">Feed</a></li>
				<li><a href="..\helpers\file.html" title="File">File</a></li>
				<li><a href="..\helpers\form.html" title="Form">Form</a></li>
				<li><a href="..\helpers\format.html" title="Format">Format</a></li>
				<li><a href="..\helpers\html.html" title="HTML">HTML</a></li>
				<li><a href="..\helpers\inflector.html" title="Inflector">Inflector</a></li>
				<li><a href="..\helpers\num.html" title="Num">Num</a></li>
				<li><a href="..\helpers\remote.html" title="Remote">Remote</a></li>
				<li><a href="..\helpers\request.html" title="Request">Request</a></li>
				<li><a href="..\helpers\security.html" title="Security">Security</a></li>
				<li><a href="..\helpers\text.html" title="Text">Text</a></li>
				<li><a href="..\helpers\upload.html" title="Upload">Upload</a></li>
				<li><a href="..\helpers\url.html" title="URL">URL</a></li>
				<li><a href="..\helpers\valid.html" title="Valid">Valid</a></li>
			</ul><!--[if lte IE 6]></td></tr></table></a><![endif]--></li>


</ul></div>


<!-- Start Body -->
<div id="body" class="dokuwiki clearfix">

<!-- wikipage start -->
<!-- TOC START -->
<!-- TOC END -->
<table class="inline"><tr class="row0"><th class="col0">Status</th><td class="col1">Stub</td>
	</tr><tr class="row1"><th class="col0">Todo</th><td class="col1">What events are, how events work, running, adding, using custom</td>
	</tr><tr class="row2"><th class="col0">Todo</th><td class="col1">Move stuff from core:event </td>
	</tr></table><h1><a name="events" id="events">Events</a></h1>
<div class="level1">

<p>
See <a href="..\core\event.html" class="wikilink1" title="core:event">Event</a> for information on adding, running, removing and using custom events.
</p>

<p>
Kohana events consist of a <strong>name</strong> and <a href="http://php.net/manual/en/language.pseudo-types.php#language.types.callback" class="urlextern" title="http://php.net/manual/en/language.pseudo-types.php#language.types.callback" rel="nofollow">callback</a>. Names usually include a prefix with the name <sup><a href="#fn__1" name="fnt__1" id="fnt__1" class="fn_top">1)</a></sup>, but are not required to. All of the core events are prefixed as <code>system.name</code>.
</p>

</div>

<h2><a name="system_events" id="system_events">System Events</a></h2>
<div class="level2">

<p>

The following events are defined in the Kohana core files. The pre-defined actions for these events are added in <a href="..\core\kohana-1.html#setup" class="wikilink1" title="core:kohana">Kohana::setup</a>.
</p>

</div>

<h4><a name="system.ready" id="system.ready">system.ready</a></h4>
<div class="level4">

<p>

Called immediately after hooks are loaded. This is the earliest attachable event. Nothing is attached to this event by default. Hooks are loaded before  this point.
</p>

</div>

<h4><a name="system.routing" id="system.routing">system.routing</a></h4>
<div class="level4">

<p>

Processes the <acronym title="Uniform Resource Locator">URL</acronym> and does routing. Calls <a href="..\libraries\router.html#setup" class="wikilink2" title="libraries:router" rel="nofollow">Router::find_uri</a> and <a href="..\libraries\router.html#setup" class="wikilink2" title="libraries:router" rel="nofollow">Router::setup</a> by default.
</p>

</div>

<h4><a name="system.execute" id="system.execute">system.execute</a></h4>
<div class="level4">

<p>

Controller locating and initialization. A controller object will be created, as an instance of Kohana. Calls <a href="..\core\kohana-1.html#instance" class="wikilink1" title="core:kohana">Kohana::instance</a> by default.
</p>

</div>

<h4><a name="system.post_routing" id="system.post_routing">system.post_routing</a></h4>
<div class="level4">

<p>

Triggered after all routing is done so interventions in routing can be done here. If Router::$controller is empty after this event a 404 is triggered.
</p>

</div>

<h4><a name="system.404" id="system.404">system.404</a></h4>
<div class="level4">

<p>

Called when a page cannot be found. Calls <a href="..\core\kohana-1.html#show_404" class="wikilink1" title="core:kohana">Kohana::show_404</a> by default.
</p>

</div>

<h4><a name="system.pre_controller" id="system.pre_controller">system.pre_controller</a></h4>
<div class="level4">

<p>

Called within system.execute, after the controller file is loaded, but before an object is created.
</p>

</div>

<h4><a name="system.post_controller_constructor" id="system.post_controller_constructor">system.post_controller_constructor</a></h4>
<div class="level4">

<p>

Called within <a href="#system.execute" title="general:events ↵" class="wikilink1">system.execute</a>, after the controller constructor has been called. <a href="..\core\kohana-1.html#instance" class="wikilink1" title="core:kohana">Kohana::instance</a> will return the controller at this point, and views can be loaded. Controller methods have not been called yet.
</p>

</div>

<h4><a name="system.post_controller" id="system.post_controller">system.post_controller</a></h4>
<div class="level4">

<p>

Called within <a href="#system.execute" title="general:events ↵" class="wikilink1">system.execute</a>, after the controller object is created. <a href="..\core\kohana-1.html#instance" class="wikilink1" title="core:kohana">Kohana::instance</a> will return the controller at this point, and views can be loaded.
</p>

</div>

<h4><a name="system.send_headers" id="system.send_headers">system.send_headers</a></h4>
<div class="level4">

<p>

Called just before the global output buffer is closed, before any content is displayed. Writing cookies is not possible after this point, and <a href="..\libraries\session.html" class="wikilink1" title="libraries:session">Session</a> data will not be saved.
</p>

</div>

<h4><a name="system.display" id="system.display">system.display</a></h4>
<div class="level4">

<p>

Displays the output that Kohana has generated. Views can be loaded, but headers have already been sent. The rendered output can be manipulated as <a href="#data" title="general:events ↵" class="wikilink1">Event::$data</a>.
</p>

</div>

<h4><a name="system.shutdown" id="system.shutdown">system.shutdown</a></h4>
<div class="level4">

<p>

Last event to run, just before <acronym title="Hypertext Preprocessor">PHP</acronym> starts to shut down. Runs the Kohana::shutdown method by default.
</p>

</div>

<h2><a name="hooks" id="hooks">Hooks</a></h2>
<div class="level2">

<p>
Hooks are included early in Kohana and can be used to execute code before e.g. controllers are loaded so you can check for for example authentication early in Kohana. Events and hooks go hand in hand since in hooks you can attach code to events. See for more information the <a href="hooks.html" class="wikilink1" title="general:hooks">Hooks</a> page.

</p>

</div>
<div class="footnotes">
<div class="fn"><sup><a href="#fnt__1" id="fn__1" name="fn__1" class="fn_bot">1)</a></sup> 
An example of a “prefix” is prefix.name</div>
</div>

<!-- wikipage stop -->

</div>
<!-- End Body -->


<div id="wikibar" class="clearfix">
	<div class="meta">
		<div class="user">
					</div>
		<div class="doc">
			general/events.txt · Last modified: 2008/09/29 17:59 by delapouite			 
		</div>
	</div>

	</div>

<div id="footer"><strong>©2007-2008 Kohana Team. All rights reserved.</strong></div>


<div class="no"><img src="/lib/exe/indexer.php?id=general%3Aevents&amp;1229410968" width="1" height="1" alt=""></div>
</body></html>
