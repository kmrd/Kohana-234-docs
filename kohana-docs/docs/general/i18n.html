<html xmlns="http://www.w3.org/1999/xhtml" xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en" dir="ltr" xml:lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=utf-8"><title>
    general:i18n    [Kohana User Guide]
</title><meta name="generator" content="DokuWiki Release 2008-05-05"><meta name="robots" content="noindex,nofollow"><meta name="date" content="2008-12-14T09:59:46-0600"><meta name="keywords" content="general,i18n"><link rel="search" type="application/opensearchdescription+xml" href="..\lib\exe\opensearch.html" title="Kohana User Guide"><link rel="start" href="/"><link rel="contents" href="i18n-1.html?do=index" title="Index"><link rel="alternate" type="application/rss+xml" title="Recent Changes" href="..\feed.html"><link rel="alternate" type="application/rss+xml" title="Current Namespace" href="..\feed-2.html?mode=list&amp;ns=general"><link rel="alternate" type="text/html" title="Plain HTML" href="..\_export\xhtml\general\i18n.html"><link rel="alternate" type="text/plain" title="Wiki Markup" href="..\_export\raw\general\i18n.html"><link rel="stylesheet" media="all" type="text/css" href="..\_css\all.css"><link rel="stylesheet" media="screen" type="text/css" href="..\_css\kohana.css"><link rel="stylesheet" media="print" type="text/css" href="..\_css\print.css"><script type="text/javascript" charset="utf-8" src="..\_js\script.js"></script><link rel="shortcut icon" href="..\lib\tpl\kohana\images\favicon.html"><link rel="stylesheet" type="text/css" href="..\_css\my.css"></head><body>
<!-- Start Header -->
<div id="header">

<!-- Start Logo -->
<a id="logo" href="..\contents.html"><img src="..\_img\kohana.png" alt="Kohana"></a>
<!-- End Logo -->

</div>
<!-- End Header -->

<div class="menu clearfix">
<ul><li class="top active"><a href="..\contents.html">Contents</a></li>


<li class="top"><a href="..\contents.html">General<!--[if IE 7]><!--></a><!--<![endif]-->
<!--[if lte IE 6]><table><tr><td><![endif]-->
	<ul><li><a href="configuration.html" title="Configuration">Configuration</a></li>
				<li><a href="controllers.html" title="Controllers">Controllers</a></li>
				<li><a href="errorhandling.html" title="Error Handling">Error Handling</a></li>
				<li><a href="events.html" title="Events">Events</a></li>
				<li><a href="filesystem.html" title="Filesystem">Filesystem</a></li>
				<li><a href="helpers.html" title="Helpers">Helpers</a></li>
				<li><a href="hooks.html" title="Hooks">Hooks</a></li>
				<li><a href="i18n.html" title="Internationalization">Internationalization</a></li>
				<li><a href="libraries.html" title="Libraries">Libraries</a></li>
				<li><a href="loading.html" title="Loading">Loading</a></li>
				<li><a href="logging.html" title="Logging">Logging</a></li>
				<li><a href="models.html" title="Models">Models</a></li>
				<li><a href="modules.html" title="Modules">Modules</a></li>
				<li><a href="routing.html" title="Routing">Routing</a></li>
				<li><a href="urls.html" title="URLs">URLs</a></li>
				<li><a href="views.html" title="Views">Views</a></li>
			</ul><!--[if lte IE 6]></td></tr></table></a><![endif]--></li>


<li class="top"><a href="..\contents.html">Core<!--[if IE 7]><!--></a><!--<![endif]-->
<!--[if lte IE 6]><table><tr><td><![endif]-->
	<ul><li><a href="..\core\benchmark.html" title="Benchmark">Benchmark</a></li>
				<li><a href="..\core\config.html" title="Config">Config</a></li>
				<li><a href="..\core\event.html" title="Event">Event</a></li>
				<li><a href="..\core\kohana.html" title="Kohana">Kohana</a></li>
				<li><a href="..\core\log.html" title="Log">Log</a></li>
				<li><a href="..\core\utf8.html" title="Unicode">Unicode</a></li>
				<li><a href="..\core\view.html" title="View">View</a></li>
			</ul><!--[if lte IE 6]></td></tr></table></a><![endif]--></li>


<li class="top"><a href="..\contents.html">Libraries<!--[if IE 7]><!--></a><!--<![endif]-->
<!--[if lte IE 6]><table><tr><td><![endif]-->
	<ul><li><a href="..\libraries\cache.html" title="Cache">Cache</a></li>
				<li><a href="..\libraries\calendar.html" title="Calendar">Calendar</a></li>
				<li><a href="..\libraries\captcha.html" title="Captcha">Captcha</a></li>
				<li><a href="..\libraries\database.html" title="Database">Database</a></li>
				<li><a href="..\libraries\encrypt.html" title="Encrypt">Encrypt</a></li>
				<li><a href="..\libraries\image.html" title="Image">Image</a></li>
				<li><a href="..\libraries\input.html" title="Input">Input</a></li>
				<li><a href="..\libraries\orm.html" title="ORM">ORM</a></li>
				<li><a href="..\libraries\pagination.html" title="Pagination">Pagination</a></li>
				<li><a href="..\libraries\profiler.html" title="Profiler">Profiler</a></li>
				<li><a href="..\libraries\session.html" title="Session">Session</a></li>
				<li><a href="..\libraries\uri.html" title="URI">URI</a></li>
				<li><a href="..\libraries\validation.html" title="Validation">Validation</a></li>
			</ul><!--[if lte IE 6]></td></tr></table></a><![endif]--></li>


<li class="top"><a href="..\contents.html">Helpers<!--[if IE 7]><!--></a><!--<![endif]-->
<!--[if lte IE 6]><table><tr><td><![endif]-->
	<ul><li><a href="..\helpers\arr.html" title="Array">Array</a></li>
				<li><a href="..\helpers\cookie.html" title="Cookie">Cookie</a></li>
				<li><a href="..\helpers\date.html" title="Date">Date</a></li>
				<li><a href="..\helpers\download.html" title="Download">Download</a></li>
				<li><a href="..\helpers\email.html" title="Email">Email</a></li>
				<li><a href="..\helpers\expires.html" title="Expires">Expires</a></li>
				<li><a href="..\helpers\feed.html" title="Feed">Feed</a></li>
				<li><a href="..\helpers\file.html" title="File">File</a></li>
				<li><a href="..\helpers\form.html" title="Form">Form</a></li>
				<li><a href="..\helpers\format.html" title="Format">Format</a></li>
				<li><a href="..\helpers\html.html" title="HTML">HTML</a></li>
				<li><a href="..\helpers\inflector.html" title="Inflector">Inflector</a></li>
				<li><a href="..\helpers\num.html" title="Num">Num</a></li>
				<li><a href="..\helpers\remote.html" title="Remote">Remote</a></li>
				<li><a href="..\helpers\request.html" title="Request">Request</a></li>
				<li><a href="..\helpers\security.html" title="Security">Security</a></li>
				<li><a href="..\helpers\text.html" title="Text">Text</a></li>
				<li><a href="..\helpers\upload.html" title="Upload">Upload</a></li>
				<li><a href="..\helpers\url.html" title="URL">URL</a></li>
				<li><a href="..\helpers\valid.html" title="Valid">Valid</a></li>
			</ul><!--[if lte IE 6]></td></tr></table></a><![endif]--></li>


</ul></div>


<!-- Start Body -->
<div id="body" class="dokuwiki clearfix">

<!-- wikipage start -->
<!-- TOC START -->
<!-- TOC END -->
<table class="inline"><tr class="row0"><th class="col0">Status</th><td class="col1">Draft</td>
	</tr><tr class="row1"><th class="col0">Todo</th><td class="col1">Language files, file structure, loading entries</td>
	</tr><tr class="row2"><th class="col0">Todo</th><td class="col1">Language codes, expand on extra arguments for lang()</td>
	</tr></table><h1><a name="internationalization" id="internationalization">Internationalization</a></h1>
<div class="level1">

<p>
Internationalization files can be found in the i18n directories. These directories can be found in system, application or modules directories. Kohana's own internationalization files can be found in the system directory. 
</p>

<p>
In the i18n directories the directories with the language files can be found. English files are in en_US, Dutch in nl_NL, German in de_DE etc.
</p>

</div>

<h3><a name="locale_setting" id="locale_setting">Locale setting</a></h3>
<div class="level3">

<p>
The configuration file <code>locale.php</code> sets which locale will be used. The file can be found in the application/config directory, if it's not there copy the one from the system/config directory. 
</p>

<p>
The file will look somewhat like this

</p>
<pre class="code php"><span class="re1">$config</span><span class="br0">[</span><span class="st0">'language'</span><span class="br0">]</span> <span class="sy0">=</span> <a href="http://www.php.net/array"><span class="kw3">array</span></a><span class="br0">(</span><span class="st0">'en_US'</span><span class="sy0">,</span> <span class="st0">'English_United States'</span><span class="br0">)</span><span class="sy0">;</span>
 
<span class="re1">$config</span><span class="br0">[</span><span class="st0">'timezone'</span><span class="br0">]</span> <span class="sy0">=</span> <span class="st0">''</span><span class="sy0">;</span></pre>
<p>
<code>$config['language']</code> sets the language that should be used. It maps to the directories in the i18n directory.
<code>$config['timezone']</code> sets the timezone, see for more information <a href="http://php.net/timezones" class="urlextern" title="http://php.net/timezones" rel="nofollow">http://php.net/timezones</a>
</p>

</div>

<h3><a name="file_structure" id="file_structure">File structure</a></h3>
<div class="level3">
<pre class="code">root
 +- application
 |    +- i18n
 |        +- en_US
 |        |   +- coffee.php
 |        |
 |        +- de_DE
 |        |   +- coffee.php
 |        |
 |        +- zh_CN
 |        |   +- coffee.php
 |
 +- system
 |    +- i18n
 |        +- en_US
 |        |   +- cache.php
 |        |
 |        +- de_DE
 |        |   +- cache.php
 |        |
 |        +- zh_CN
 |        |   +- cache.php
 </pre>

</div>

<h3><a name="retrieving_language_strings" id="retrieving_language_strings">Retrieving language strings</a></h3>
<div class="level3">

<p>

Using Kohana::lang() languages strings can be retrieved. 
<strong>Example </strong>

</p>
<pre class="code php"><a href="http://www.php.net/echo"><span class="kw3">echo</span></a> Kohana<span class="sy0">::</span><span class="me2">lang</span><span class="br0">(</span><span class="st0">'cache.resources'</span><span class="br0">)</span><span class="sy0">;</span>
 
<span class="co1">//outputs is locale is set to en_US</span>
 
<span class="co1">//  Caching of resources is impossible, because resources cannot be serialized.</span>
 
<span class="co1">//If locale is set to de_DE</span>
 
<span class="co1">//  Das Cachen von Ressourcen ist nicht möglich, da diese nicht serialisiert werden können.</span></pre>
<p>
In the case of <code>en_US</code>, <code>Kohana::lang('cache.resources')</code> maps to i18n/en_US/cache.php and within this file to <code>$lang['resources']</code> 
</p>

<p>
Kohana also allows to give extra arguments to <code>Kohana::lang()</code>  passing them to translated text via <acronym title="Hypertext Preprocessor">PHP</acronym> function <code>vsprintf</code> <a href="http://pl2.php.net/manual/en/function.vsprintf.php" class="urlextern" title="http://pl2.php.net/manual/en/function.vsprintf.php" rel="nofollow">http://pl2.php.net/manual/en/function.vsprintf.php</a>
</p>

</div>

<h3><a name="setting_your_own_language_strings" id="setting_your_own_language_strings">Setting your own language strings</a></h3>
<div class="level3">

<p>

It is possible to have your own language strings in your application/module. Simply add a directory <code>i18n</code>, add the directory of the locale and add the file with the language strings. For example, you want to have language strings for coffee and stuff related to coffee. Name the file <strong><code>coffee.php</code></strong> and place it in <code>application/i18n/en_US/</code>
</p>

<p>
<strong>Format of the file</strong>

</p>
<pre class="code php"><span class="re1">$lang</span> <span class="sy0">=</span> <a href="http://www.php.net/array"><span class="kw3">array</span></a>
<span class="br0">(</span>
	<span class="st0">'cup'</span>             <span class="sy0">=&gt;</span> <span class="st0">'Coffee goes in here'</span><span class="sy0">,</span>
	<span class="st0">'beans'</span>           <span class="sy0">=&gt;</span> <span class="st0">'Coffee is created from beans.'</span><span class="sy0">,</span>
	<span class="st0">'java'</span>            <span class="sy0">=&gt;</span> <span class="st0">'Place where coffee comes from, not the programming language'</span><span class="sy0">,</span>
<span class="br0">)</span><span class="sy0">;</span></pre>
<p>
These language strings can now be called from your application
</p>

<p>
<strong>Example</strong>
</p>
<pre class="code php"><a href="http://www.php.net/echo"><span class="kw3">echo</span></a> Kohana<span class="sy0">::</span><span class="me2">lang</span><span class="br0">(</span><span class="st0">'coffee.cup'</span><span class="br0">)</span><span class="sy0">;</span>
<a href="http://www.php.net/echo"><span class="kw3">echo</span></a> Kohana<span class="sy0">::</span><span class="me2">lang</span><span class="br0">(</span><span class="st0">'coffee.beans'</span><span class="br0">)</span><span class="sy0">;</span>
<a href="http://www.php.net/echo"><span class="kw3">echo</span></a> Kohana<span class="sy0">::</span><span class="me2">lang</span><span class="br0">(</span><span class="st0">'coffee.java'</span><span class="br0">)</span><span class="sy0">;</span></pre>
</div>

<!-- wikipage stop -->

</div>
<!-- End Body -->


<div id="wikibar" class="clearfix">
	<div class="meta">
		<div class="user">
					</div>
		<div class="doc">
			general/i18n.txt · Last modified: 2008/12/14 09:59 by tas			 
		</div>
	</div>

	</div>

<div id="footer"><strong>©2007-2008 Kohana Team. All rights reserved.</strong></div>


<div class="no"><img src="/lib/exe/indexer.php?id=general%3Ai18n&amp;1229410976" width="1" height="1" alt=""></div>
</body></html>
