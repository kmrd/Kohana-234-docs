<html xmlns="http://www.w3.org/1999/xhtml" xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en" dir="ltr" xml:lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=utf-8"><title>
    general:errorhandling    [Kohana User Guide]
</title><meta name="generator" content="DokuWiki Release 2008-05-05"><meta name="robots" content="index,follow"><meta name="date" content="2008-08-12T13:21:38-0500"><meta name="keywords" content="general,errorhandling"><link rel="search" type="application/opensearchdescription+xml" href="..\lib\exe\opensearch.html" title="Kohana User Guide"><link rel="start" href="/"><link rel="contents" href="errorhandling-1.html?do=index" title="Index"><link rel="alternate" type="application/rss+xml" title="Recent Changes" href="..\feed.html"><link rel="alternate" type="application/rss+xml" title="Current Namespace" href="..\feed-2.html?mode=list&amp;ns=general"><link rel="alternate" type="text/html" title="Plain HTML" href="..\_export\xhtml\general\errorhandling.html"><link rel="alternate" type="text/plain" title="Wiki Markup" href="..\_export\raw\general\errorhandling.html"><link rel="stylesheet" media="all" type="text/css" href="..\_css\all.css"><link rel="stylesheet" media="screen" type="text/css" href="..\_css\kohana.css"><link rel="stylesheet" media="print" type="text/css" href="..\_css\print.css"><script type="text/javascript" charset="utf-8" src="..\_js\script.js"></script><link rel="shortcut icon" href="..\lib\tpl\kohana\images\favicon.html"><link rel="stylesheet" type="text/css" href="..\_css\my.css"></head><body>
<!-- Start Header -->
<div id="header">

<!-- Start Logo -->
<a id="logo" href="..\contents.html"><img src="..\_img\kohana.png" alt="Kohana"></a>
<!-- End Logo -->

</div>
<!-- End Header -->

<div class="menu clearfix">
<ul><li class="top active"><a href="..\contents.html">Contents</a></li>


<li class="top"><a href="..\contents.html">General<!--[if IE 7]><!--></a><!--<![endif]-->
<!--[if lte IE 6]><table><tr><td><![endif]-->
	<ul><li><a href="configuration.html" title="Configuration">Configuration</a></li>
				<li><a href="controllers.html" title="Controllers">Controllers</a></li>
				<li><a href="errorhandling.html" title="Error Handling">Error Handling</a></li>
				<li><a href="events.html" title="Events">Events</a></li>
				<li><a href="filesystem.html" title="Filesystem">Filesystem</a></li>
				<li><a href="helpers.html" title="Helpers">Helpers</a></li>
				<li><a href="hooks.html" title="Hooks">Hooks</a></li>
				<li><a href="i18n.html" title="Internationalization">Internationalization</a></li>
				<li><a href="libraries.html" title="Libraries">Libraries</a></li>
				<li><a href="loading.html" title="Loading">Loading</a></li>
				<li><a href="logging.html" title="Logging">Logging</a></li>
				<li><a href="models.html" title="Models">Models</a></li>
				<li><a href="modules.html" title="Modules">Modules</a></li>
				<li><a href="routing.html" title="Routing">Routing</a></li>
				<li><a href="urls.html" title="URLs">URLs</a></li>
				<li><a href="views.html" title="Views">Views</a></li>
			</ul><!--[if lte IE 6]></td></tr></table></a><![endif]--></li>


<li class="top"><a href="..\contents.html">Core<!--[if IE 7]><!--></a><!--<![endif]-->
<!--[if lte IE 6]><table><tr><td><![endif]-->
	<ul><li><a href="..\core\benchmark.html" title="Benchmark">Benchmark</a></li>
				<li><a href="..\core\config.html" title="Config">Config</a></li>
				<li><a href="..\core\event.html" title="Event">Event</a></li>
				<li><a href="..\core\kohana.html" title="Kohana">Kohana</a></li>
				<li><a href="..\core\log.html" title="Log">Log</a></li>
				<li><a href="..\core\utf8.html" title="Unicode">Unicode</a></li>
				<li><a href="..\core\view.html" title="View">View</a></li>
			</ul><!--[if lte IE 6]></td></tr></table></a><![endif]--></li>


<li class="top"><a href="..\contents.html">Libraries<!--[if IE 7]><!--></a><!--<![endif]-->
<!--[if lte IE 6]><table><tr><td><![endif]-->
	<ul><li><a href="..\libraries\cache.html" title="Cache">Cache</a></li>
				<li><a href="..\libraries\calendar.html" title="Calendar">Calendar</a></li>
				<li><a href="..\libraries\captcha.html" title="Captcha">Captcha</a></li>
				<li><a href="..\libraries\database.html" title="Database">Database</a></li>
				<li><a href="..\libraries\encrypt.html" title="Encrypt">Encrypt</a></li>
				<li><a href="..\libraries\image.html" title="Image">Image</a></li>
				<li><a href="..\libraries\input.html" title="Input">Input</a></li>
				<li><a href="..\libraries\orm.html" title="ORM">ORM</a></li>
				<li><a href="..\libraries\pagination.html" title="Pagination">Pagination</a></li>
				<li><a href="..\libraries\profiler.html" title="Profiler">Profiler</a></li>
				<li><a href="..\libraries\session.html" title="Session">Session</a></li>
				<li><a href="..\libraries\uri.html" title="URI">URI</a></li>
				<li><a href="..\libraries\validation.html" title="Validation">Validation</a></li>
			</ul><!--[if lte IE 6]></td></tr></table></a><![endif]--></li>


<li class="top"><a href="..\contents.html">Helpers<!--[if IE 7]><!--></a><!--<![endif]-->
<!--[if lte IE 6]><table><tr><td><![endif]-->
	<ul><li><a href="..\helpers\arr.html" title="Array">Array</a></li>
				<li><a href="..\helpers\cookie.html" title="Cookie">Cookie</a></li>
				<li><a href="..\helpers\date.html" title="Date">Date</a></li>
				<li><a href="..\helpers\download.html" title="Download">Download</a></li>
				<li><a href="..\helpers\email.html" title="Email">Email</a></li>
				<li><a href="..\helpers\expires.html" title="Expires">Expires</a></li>
				<li><a href="..\helpers\feed.html" title="Feed">Feed</a></li>
				<li><a href="..\helpers\file.html" title="File">File</a></li>
				<li><a href="..\helpers\form.html" title="Form">Form</a></li>
				<li><a href="..\helpers\format.html" title="Format">Format</a></li>
				<li><a href="..\helpers\html.html" title="HTML">HTML</a></li>
				<li><a href="..\helpers\inflector.html" title="Inflector">Inflector</a></li>
				<li><a href="..\helpers\num.html" title="Num">Num</a></li>
				<li><a href="..\helpers\remote.html" title="Remote">Remote</a></li>
				<li><a href="..\helpers\request.html" title="Request">Request</a></li>
				<li><a href="..\helpers\security.html" title="Security">Security</a></li>
				<li><a href="..\helpers\text.html" title="Text">Text</a></li>
				<li><a href="..\helpers\upload.html" title="Upload">Upload</a></li>
				<li><a href="..\helpers\url.html" title="URL">URL</a></li>
				<li><a href="..\helpers\valid.html" title="Valid">Valid</a></li>
			</ul><!--[if lte IE 6]></td></tr></table></a><![endif]--></li>


</ul></div>


<!-- Start Body -->
<div id="body" class="dokuwiki clearfix">

<!-- wikipage start -->
<!-- TOC START -->
<!-- TOC END -->
<table class="inline"><tr class="row0"><th class="col0">Status</th><td class="col1">Draft</td>
	</tr><tr class="row1"><th class="col0">Todo</th><td class="col1"> triggering errors</td>
	</tr></table><h1><a name="error_handling" id="error_handling">Error Handling</a></h1>
<div class="level1">

<p>
See <a href="..\core\kohana.html" class="wikilink1" title="core:kohana">Kohana logging methods</a> for information on accessing log files.

</p>

</div>

<h2><a name="config.display_errors" id="config.display_errors">Config.display_errors</a></h2>
<div class="level2">

<p>

In the index.php file there is a setting <strong>display_errors</strong>. This determines whether errors should be outputted to the screen or not. During development you'd want to set this to TRUE, but in production set this to FALSE so as to prevent users from seeing errors. This won't affect logging of errors.
</p>

</div>

<h2><a name="exceptions" id="exceptions">Exceptions</a></h2>
<div class="level2">

<p>
Exceptions in Kohana are handled by the Kohana Exception classes.  
There are three types of exceptions: <span class="curid"><a href="errorhandling-2.html#kohana_exception" class="wikilink1" title="general:errorhandling">Kohana_Exception</a></span>, <span class="curid"><a href="errorhandling-2.html#kohana_user_exception" class="wikilink1" title="general:errorhandling">Kohana_User_Exception</a></span> and <span class="curid"><a href="errorhandling-2.html#kohana_404_exception" class="wikilink1" title="general:errorhandling">Kohana_404_Exception</a></span>.
</p>

</div>

<h3><a name="kohana_exception" id="kohana_exception">Kohana_Exception</a></h3>
<div class="level3">

<p>
<code>Kohana_Exception</code> extends <code>Exception</code>.  To throw a <code>Kohana_Exception</code> an <a href="i18n.html" class="wikilink1" title="general:i18n">i18n language file</a> must exist.

</p>

</div>

<h4><a name="syntax" id="syntax">Syntax</a></h4>
<div class="level4">
<pre class="code php"><span class="coMULTI">/**
 * @param   string  i18n language key for the message
 * @param   array   addition line parameters
 */</span>
throw <span class="kw2">new</span> Kohana_Exception<span class="br0">(</span>string <span class="re1">$i18_lang_key</span> <span class="br0">[</span><span class="sy0">,</span> string <span class="re1">$message</span><span class="br0">]</span><span class="br0">)</span><span class="sy0">;</span></pre>
</div>

<h4><a name="example" id="example">Example</a></h4>
<div class="level4">
<pre class="code php"><span class="co1">//...</span>
<span class="kw1">if</span><span class="br0">(</span><span class="re1">$x</span> <span class="sy0">==</span> <span class="nu0">0</span><span class="br0">)</span>
  throw <span class="kw2">new</span> Kohana_Exception<span class="br0">(</span><span class="st0">'math.division_by_zero'</span><span class="br0">)</span><span class="sy0">;</span>
  <span class="co1">// Throw a $lang['division_by_zero'] exception in ./i18n/en_US/math.php</span>
  <span class="co1">// "Cannot divide by zero."</span>
<span class="kw1">else</span> <span class="kw1">if</span><span class="br0">(</span><span class="re1">$x</span> <span class="sy0">&lt;</span> <span class="nu0">0</span><span class="br0">)</span>
  throw <span class="kw2">new</span> Kohana_Exception<span class="br0">(</span><span class="st0">'general.math.negative_number'</span><span class="sy0">,</span> <span class="re1">$x</span><span class="br0">)</span><span class="sy0">;</span>
  <span class="co1">// Throw a $lang['math']['negative_number'] exception in ./i18n/en_US/general.php and pass the message $x</span>
  <span class="co1">// "The number passed was negative: -5"</span>
<span class="co1">//...</span></pre>
</div>

<h3><a name="kohana_user_exception" id="kohana_user_exception">Kohana_User_Exception</a></h3>
<div class="level3">

<p>
<code>Kohana_User_Exception</code> extends the <code>Kohana_Exception</code>.  This is similar to <code>Kohana_Exception</code> except that the exception messages do not have to be in the <a href="i18n.html" class="wikilink1" title="general:i18n">i18n</a> structure.

</p>

</div>

<h4><a name="syntax1" id="syntax1">Syntax</a></h4>
<div class="level4">
<pre class="code php"><span class="coMULTI">/**
 * @param   string  exception title string
 * @param   string  exception message string
 * @param   string  custom error template
 */</span>
throw <span class="kw2">new</span> Kohana_User_Exception<span class="br0">(</span>string <span class="re1">$title</span><span class="sy0">,</span> string <span class="re1">$message</span> <span class="br0">[</span><span class="sy0">,</span> string <span class="re1">$template</span><span class="br0">]</span><span class="br0">)</span><span class="sy0">;</span></pre>
</div>

<h4><a name="example1" id="example1">Example</a></h4>
<div class="level4">
<pre class="code php"><span class="co1">//...</span>
<span class="kw1">if</span><span class="br0">(</span><span class="re1">$x</span> <span class="sy0">==</span> <span class="nu0">0</span><span class="br0">)</span>
  throw <span class="kw2">new</span> Kohana_User_Exception<span class="br0">(</span><span class="st0">'Cannot divide by zero'</span><span class="sy0">,</span> <span class="st0">'You passed a zero'</span><span class="br0">)</span><span class="sy0">;</span>
<span class="kw1">else</span> <span class="kw1">if</span><span class="br0">(</span><span class="re1">$x</span> <span class="sy0">&lt;</span> <span class="nu0">0</span><span class="br0">)</span>
  throw <span class="kw2">new</span> Kohana_User_Exception<span class="br0">(</span><span class="st0">'Number Type Exception'</span><span class="sy0">,</span> <span class="st0">"Cannot use a negative number $x"</span><span class="br0">)</span><span class="sy0">;</span>
<span class="co1">//...</span></pre>
</div>

<h3><a name="kohana_404_exception" id="kohana_404_exception">Kohana_404_Exception</a></h3>
<div class="level3">

<p>
<code>Kohana_404_Exception</code> extends <code>Kohana_Exception</code>.  This exception will display a 404 error message to the user.

</p>

</div>

<h4><a name="syntax2" id="syntax2">Syntax</a></h4>
<div class="level4">
<pre class="code php"><span class="coMULTI">/**
 * @param  string  URL of page
 * @param  string  custom error template
 */</span>
throw <span class="kw2">new</span> Kohana_404_Exception<span class="br0">(</span><span class="br0">[</span>string <span class="re1">$page</span> <span class="br0">[</span><span class="sy0">,</span> string <span class="re1">$template</span><span class="br0">]</span><span class="br0">]</span><span class="br0">)</span><span class="sy0">;</span></pre>
</div>

<h4><a name="example2" id="example2">Example</a></h4>
<div class="level4">
<pre class="code php"><span class="co1">//...</span>
<span class="kw1">if</span><span class="br0">(</span><span class="re1">$x</span> <span class="sy0">==</span> <span class="nu0">0</span><span class="br0">)</span>
  throw <span class="kw2">new</span> Kohana_404_Exception<span class="br0">(</span><span class="st0">'divide by zero'</span><span class="br0">)</span><span class="sy0">;</span>
  <span class="co1">// "The page you requested, Cannot divide by zero, could not be found."</span>
<span class="co1">//...</span></pre>
</div>

<h2><a name="triggering_errors" id="triggering_errors">Triggering errors</a></h2>
<div class="level2">

</div>

<h2><a name="custom_error_pages" id="custom_error_pages">Custom error pages</a></h2>
<div class="level2">

<p>
The <code>system/views/kohana_error_page.php</code> is the default error page. You can overload this one by having a <code>kohana_error_page.php</code> in your <code>application/views</code> directory or in a similar modules directory.
</p>

<p>
The default error page will show you the error as well as a stack trace if available.
</p>

</div>

<h2><a name="logging" id="logging">Logging</a></h2>
<div class="level2">

<p>

Kohana can log errors, alerts, info and debugging messages. The setting can be found in <code>application/config/log.php</code> See <a href="logging.html" class="wikilink1" title="general:logging">Logging</a> for more information.
</p>

</div>

<!-- wikipage stop -->

</div>
<!-- End Body -->


<div id="wikibar" class="clearfix">
	<div class="meta">
		<div class="user">
					</div>
		<div class="doc">
			general/errorhandling.txt · Last modified: 2008/08/12 13:21 by oscarb			 
		</div>
	</div>

	</div>

<div id="footer"><strong>©2007-2008 Kohana Team. All rights reserved.</strong></div>


<div class="no"><img src="/lib/exe/indexer.php?id=general%3Aerrorhandling&amp;1229410967" width="1" height="1" alt=""></div>
</body></html>
